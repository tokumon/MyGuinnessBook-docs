# ギネステーマ自作機能 - User Story

## 📖 概要

| 項目 | 内容 |
|------|------|
| As a | 記録好きなユーザー |
| I want to | 自分でギネスのテーマを設定できる |
| so that | 自分の興味や目標に合った記録を作成できる |


## 🔄 振る舞い

### テーマ作成シナリオ

| 項目 | 内容 |
|------|------|
| GIVEN | ユーザーが記録入力画面にいる |
| WHEN | 「テーマを自作する」を選択する |
| THEN | テーマ入力フォームが表示される |
| AND | テーマ名、説明、カテゴリを入力できる |

### テーマ保存シナリオ

| 項目 | 内容 |
|------|------|
| GIVEN | ユーザーがテーマ情報を入力している |
| WHEN | 「保存」ボタンを押す |
| THEN | テーマが保存される |
| AND | 記録入力画面に戻る |

### バリデーションシナリオ

| 項目 | 内容 |
|------|------|
| GIVEN | ユーザーが空のテーマ名で保存しようとしている |
| WHEN | 「保存」ボタンを押す |
| THEN | エラーメッセージが表示される |
| AND | 入力フォームが残る |


## ✅ 受け入れ基準

### 必須機能
- [ ] テーマ名の入力（必須）
- [ ] テーマ説明の入力（任意）
- [ ] カテゴリ選択（必須）
- [ ] テーマの保存機能
- [ ] 入力内容のバリデーション

### エラー・バリデーション
| エラー種別 | 発生条件 | 期待される動作 | エラーメッセージ |
|------------|----------|----------------|------------------|
| テーマ名未入力 | テーマ名が空 | 保存を無効化 | 「テーマ名を入力してください」 |
| テーマ名重複 | 既存テーマと同名 | 警告表示 | 「このテーマ名は既に使用されています」 |
| 文字数超過 | テーマ名が50文字超過 | 入力制限 | 「テーマ名は50文字以内で入力してください」 |


## 🎨 UI/UX要件

### 主なUXフロー
1. 記録入力画面で「テーマを自作する」を選択
2. テーマ入力フォームを表示
3. テーマ名、説明、カテゴリを入力
4. 保存ボタンでテーマを保存
5. 記録入力画面に戻る

### 主なコンポーネント
- テーマ入力フォーム
- カテゴリ選択ドロップダウン
- 保存/キャンセルボタン
- バリデーションエラー表示

### 主なユーザーフィードバック
- 入力完了時の成功メッセージ
- バリデーションエラー時の明確な指示
- 保存中のローディング表示

### 主なアクセシビリティ要件
- フォーム要素に適切なラベル
- キーボードナビゲーション対応
- エラーメッセージのスクリーンリーダー対応


## 🔗 関連情報

### 依存関係
- **前提条件**: 記録入力機能の基本画面、localStorage対応
- **後続機能**: ギネス記録入力機能

### 技術的考慮事項
- localStorageでのテーマデータの永続化
- 重複チェック機能（localStorage内での検索）
- 入力値のサニタイゼーション
- localStorage容量制限への対応

## 📝 備考
- テーマ名は一意である必要がある（localStorage内で管理）
- 将来的にテーマの編集・削除機能を追加予定
- カテゴリは事前定義されたリストから選択
- localStorage容量制限を考慮したテーマ数の管理 