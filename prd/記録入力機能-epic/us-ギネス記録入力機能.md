# ギネス記録入力機能 - User Story

## 📖 概要

| 項目 | 内容 |
|------|------|
| As a | 記録好きなユーザー |
| I want to | ギネスの記録を入力できる |
| so that | 自分の挑戦や成果を記録し、振り返ることができる |


## 🔄 振る舞い

### 記録入力シナリオ

| 項目 | 内容 |
|------|------|
| GIVEN | ユーザーがテーマを選択している |
| WHEN | 記録内容を入力する |
| THEN | 記録が保存される |
| AND | 確認画面が表示される |

### 自動保存シナリオ

| 項目 | 内容 |
|------|------|
| GIVEN | ユーザーが記録を入力している |
| WHEN | 一定時間入力が止まる |
| THEN | 自動的に下書きが保存される |
| AND | ユーザーに通知される |

### 画像添付シナリオ

| 項目 | 内容 |
|------|------|
| GIVEN | ユーザーが記録入力画面にいる |
| WHEN | 画像添付ボタンを押す |
| THEN | カメラまたはギャラリーが開く |
| AND | 選択した画像が記録に添付される |


## ✅ 受け入れ基準

### 必須機能
- [ ] 記録タイトルの入力（必須）
- [ ] 記録内容の詳細入力（必須）
- [ ] 日付・時刻の記録（自動）
- [ ] 画像・動画の添付（任意）
- [ ] 記録の保存機能
- [ ] 下書き保存機能

### エラー・バリデーション
| エラー種別 | 発生条件 | 期待される動作 | エラーメッセージ |
|------------|----------|----------------|------------------|
| タイトル未入力 | タイトルが空 | 保存を無効化 | 「タイトルを入力してください」 |
| 内容未入力 | 記録内容が空 | 保存を無効化 | 「記録内容を入力してください」 |
| ファイルサイズ超過 | 添付ファイルが1MB超過 | アップロード拒否 | 「ファイルサイズは1MB以下にしてください」 |
| localStorage容量不足 | 保存時に容量不足 | 古いデータを削除して再試行 | 「古いデータを削除して保存します」 |


## 🎨 UI/UX要件

### 主なUXフロー
1. テーマ選択後に記録入力画面を表示
2. タイトル、内容、画像を順次入力
3. リアルタイムで入力内容をプレビュー
4. 保存ボタンで記録を確定
5. 完了確認画面を表示

### 主なコンポーネント
- 記録入力フォーム
- 画像添付機能
- 自動保存インジケーター
- プレビュー機能
- 保存/下書きボタン

### 主なユーザーフィードバック
- 入力中の文字数カウンター
- 自動保存の成功通知
- 保存完了時の成功メッセージ
- 入力進捗の視覚的表示

### 主なアクセシビリティ要件
- フォーム要素の適切なラベル
- 画像の代替テキスト入力
- 音声入力対応
- 高コントラストモード対応


## 🔗 関連情報

### 依存関係
- **前提条件**: テーマ選択機能、localStorage対応
- **後続機能**: 記録履歴表示機能、記録編集機能

### 技術的考慮事項
- localStorageでの記録データの永続化
- 画像のBase64エンコードと圧縮処理
- localStorage容量制限への対応
- 自動保存機能の実装（localStorage）

## 📝 備考
- 記録入力の簡便性を最優先とする
- 将来的に音声入力機能を追加予定
- localStorage容量制限を考慮した画像圧縮
- 記録のタグ付け機能を将来的に追加予定
- データエクスポート機能でバックアップを可能に 